name: Benchmark Reports

on:
  push

env:
  CARGO_TERM_COLOR: always
  NODE_VERSION: "18.17.1"
  PYTHON_VERSION: "3.11"
  RUST_TOOLCHAIN_VERSION: "1.80"
  RUST_TOOLCHAIN_COMPONENTS: rustfmt clippy

jobs:
  runBenchmark:
    name: run benchmark
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:
      - uses: actions/checkout@v3
        run: ./bench.sh
    - name: preserve bench artifacts
        uses: actions/upload-artifact@v4
        with:
          name: benchmarks
          path: |
            target/criterion/**/*

